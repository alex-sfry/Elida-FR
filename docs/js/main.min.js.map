{"version":3,"file":"main.min.js","sources":["../../src/components/customSelect/CustomSelect.js","../../src/script/Helpers/FetchData.js","../../src/components/inputDropdown/InputDropdown.js","../../src/components/commoditiesForm/commoditiesForm.js"],"sourcesContent":["export class CustomSelect {\r\n    constructor(config) {\r\n        if (!config) return console.log('provide config');\r\n\r\n        this.commoditiesSearchField = document.querySelector(`#${config.search}`);\r\n        this.dropdownListItems = document.querySelectorAll(`#${config.search} ~ .dropdown-item`);\r\n        this.selectedItemsDiv = document.querySelector(`#${config.selected}`);\r\n        this.itemsToSubmitSelect = document.querySelector('.dropdown-container > select');\r\n        this.selectedItemsArr = [];\r\n\r\n        this.selectedItemBtn = `\r\n            <span class=\"border-start border-1 border-black\"></span>\r\n            <button class=\"btn-close px-2\" type=\"button\" aria-label=\"Close\"></button>\r\n        `;\r\n\r\n        this.setEventListeners();\r\n    }\r\n\r\n    handleDropdownInput = (e) => {\r\n        this.dropdownListItems.forEach(item => {\r\n            !item.textContent.toLowerCase().startsWith(e.target.value.toLowerCase()) ?\r\n                item.classList.add('hidden') :\r\n                item.classList.remove('hidden');\r\n        });\r\n    };\r\n\r\n    handleDropdownItemClick = (e) => {\r\n        if (this.selectedItemsArr.includes(e.target.textContent)) return;\r\n\r\n        this.selectedItemsArr.push(e.target.textContent);\r\n\r\n        const selItm = document.createElement(\"div\");\r\n        selItm.className = 'ps-1';\r\n        selItm.innerHTML = e.target.textContent + this.selectedItemBtn;\r\n        this.selectedItemsDiv.appendChild(selItm);\r\n\r\n        const optionItem = document.createElement(\"option\");\r\n        optionItem.setAttribute('value', e.target.textContent);\r\n        this.itemsToSubmitSelect.appendChild(optionItem);\r\n    };\r\n\r\n    handleDeleteSelectedItem = (e) => {\r\n        if (e.target.classList.contains('btn-close')) {\r\n            this.selectedItemsArr.splice(this.selectedItemsArr.indexOf(e.target.parentElement.textContent.trim()), 1);\r\n            e.target.parentElement.remove();\r\n\r\n            const optionToDelete = this.itemsToSubmitSelect.querySelector(\r\n                `option[value=\"${e.target.parentElement.textContent.trim()}\"]`\r\n            );\r\n            optionToDelete.remove();\r\n        }\r\n    };\r\n\r\n    setEventListeners = () => {\r\n        this.commoditiesSearchField.addEventListener('input', (e) => this.handleDropdownInput(e));\r\n\r\n        this.dropdownListItems.forEach(item => {\r\n            item.addEventListener('click', (e) => this.handleDropdownItemClick(e));\r\n        });\r\n\r\n        this.selectedItemsDiv.addEventListener('click', (e) => this.handleDeleteSelectedItem(e));\r\n    };\r\n}\r\n","export class FetchData {\r\n    static fetch = async (config) => {\r\n        if (!config) return console.log('provide config');\r\n\r\n        const res = await fetch(\r\n            config.url,\r\n            {\r\n                method: config.method,\r\n                headers: {\r\n                    'Content-Type': config.contentType\r\n                },\r\n                body: config.body\r\n            }\r\n        );\r\n\r\n        if (res.ok) {\r\n            if (res.headers.get('Content-Type').includes('application/json')) {\r\n                return res.json();\r\n            } else {\r\n                return res.text();\r\n            }\r\n        } else {\r\n            console.log(`Error: ${res.status}`);\r\n        }\r\n    };\r\n}","import {FetchData} from '../../script/Helpers/FetchData.js';\r\n\r\nexport class InputDropdown {\r\n    constructor(config) {\r\n        if (!config) return console.log('provide config');\r\n\r\n        this.dropdownListItems = document.querySelectorAll(`#${config.search} ~ .dropdown-menu > .dropdown-item`);\r\n        this.ddToggle = document.querySelector(`#${config.search}`);\r\n\r\n        this.processChange = this.debounce((e) => this.handleDropdownInput(e), 1000);\r\n\r\n        this.setEventListeners();\r\n    }\r\n\r\n    debounce = (func, timeout = 300) => {\r\n        let timer;\r\n        return (...args) => {\r\n            clearTimeout(timer);\r\n            timer = setTimeout(() => {\r\n                func.apply(this, args);\r\n            }, timeout);\r\n        };\r\n    };\r\n\r\n    handleDropdownItemClick = (e) => {\r\n        this.ddToggle.value = e.target.textContent;\r\n    };\r\n\r\n    handleDropdownInput = async (e) => {\r\n        await FetchData.fetch(\r\n            {\r\n                url: `https://jsonplaceholder.typicode.com/users`,\r\n                method: 'GET',\r\n                contentType: 'application/json',\r\n                body: null\r\n            }\r\n        )\r\n        .then(data => {\r\n            this.dropdownListItems.forEach((item, index) => {\r\n                item.textContent = data[index].name;\r\n            });\r\n\r\n            // console.log(data);\r\n        });\r\n\r\n        this.dropdownListItems.forEach(item => {\r\n            !item.textContent.toLowerCase().startsWith(e.target.value.toLowerCase()) ?\r\n                item.classList.add('hidden') :\r\n                item.classList.remove('hidden');\r\n        });\r\n    };\r\n\r\n    setEventListeners = () => {\r\n        this.ddToggle.addEventListener('input', (e) => this.processChange(e));\r\n\r\n        this.dropdownListItems.forEach(item => {\r\n            item.addEventListener('click', (e) => this.handleDropdownItemClick(e));\r\n        });\r\n    };\r\n}\r\n","import {CustomSelect} from '../customSelect/CustomSelect.js';\r\nimport {InputDropdown} from '../inputDropdown/InputDropdown.js';\r\n\r\nconst commoditiesForm = () => {\r\n    new InputDropdown(\r\n        {\r\n            search: 'sys-search'\r\n        }\r\n    );\r\n\r\n    new CustomSelect({\r\n            search: 'dd-search-commodities',\r\n            selected: 'selected-items-commodities'\r\n        }\r\n    );\r\n};\r\n\r\nif (document.querySelector('.c-form')) commoditiesForm();\r\n"],"names":["CustomSelect","_createClass","config","_this","this","_classCallCheck","_defineProperty","e","dropdownListItems","forEach","item","textContent","toLowerCase","startsWith","target","value","classList","remove","add","selectedItemsArr","includes","push","selItm","document","createElement","className","innerHTML","selectedItemBtn","selectedItemsDiv","appendChild","optionItem","setAttribute","itemsToSubmitSelect","contains","splice","indexOf","parentElement","trim","querySelector","concat","commoditiesSearchField","addEventListener","handleDropdownInput","handleDropdownItemClick","handleDeleteSelectedItem","console","log","search","querySelectorAll","selected","setEventListeners","FetchData","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","res","wrap","_context","prev","next","abrupt","fetch","url","method","headers","contentType","body","sent","ok","get","json","text","status","stop","_x","apply","arguments","InputDropdown","func","timer","timeout","length","undefined","_len","args","Array","_key","clearTimeout","setTimeout","ddToggle","then","data","index","name","processChange","debounce"],"mappings":"4+OAAA,IAAaA,EAAYC,GACrB,SAAAD,EAAYE,GAAQ,IAAAC,EAAAC,KAChB,GADgBC,OAAAL,GAAAM,EAAAF,KAAA,uBAiBE,SAACG,GACnBJ,EAAKK,kBAAkBC,SAAQ,SAAAC,GAC1BA,EAAKC,YAAYC,cAAcC,WAAWN,EAAEO,OAAOC,MAAMH,eAEtDF,EAAKM,UAAUC,OAAO,UADtBP,EAAKM,UAAUE,IAAI,SAE3B,OACHZ,EAAAF,KAAA,2BAEyB,SAACG,GACvB,IAAIJ,EAAKgB,iBAAiBC,SAASb,EAAEO,OAAOH,aAA5C,CAEAR,EAAKgB,iBAAiBE,KAAKd,EAAEO,OAAOH,aAEpC,IAAMW,EAASC,SAASC,cAAc,OACtCF,EAAOG,UAAY,OACnBH,EAAOI,UAAYnB,EAAEO,OAAOH,YAAcR,EAAKwB,gBAC/CxB,EAAKyB,iBAAiBC,YAAYP,GAElC,IAAMQ,EAAaP,SAASC,cAAc,UAC1CM,EAAWC,aAAa,QAASxB,EAAEO,OAAOH,aAC1CR,EAAK6B,oBAAoBH,YAAYC,EAXqB,KAY7DxB,EAAAF,KAAA,4BAE0B,SAACG,GACpBA,EAAEO,OAAOE,UAAUiB,SAAS,eAC5B9B,EAAKgB,iBAAiBe,OAAO/B,EAAKgB,iBAAiBgB,QAAQ5B,EAAEO,OAAOsB,cAAczB,YAAY0B,QAAS,GACvG9B,EAAEO,OAAOsB,cAAcnB,SAEAd,EAAK6B,oBAAoBM,cAAaC,iBAAAA,OACxChC,EAAEO,OAAOsB,cAAczB,YAAY0B,OAAM,OAE/CpB,aAEtBX,4BAEmB,WAChBH,EAAKqC,uBAAuBC,iBAAiB,SAAS,SAAClC,GAAC,OAAKJ,EAAKuC,oBAAoBnC,MAEtFJ,EAAKK,kBAAkBC,SAAQ,SAAAC,GAC3BA,EAAK+B,iBAAiB,SAAS,SAAClC,GAAC,OAAKJ,EAAKwC,wBAAwBpC,KACvE,IAEAJ,EAAKyB,iBAAiBa,iBAAiB,SAAS,SAAClC,GAAC,OAAKJ,EAAKyC,yBAAyBrC,UA1DhFL,EAAQ,OAAO2C,QAAQC,IAAI,kBAEhC1C,KAAKoC,uBAAyBjB,SAASe,cAAaC,IAAAA,OAAKrC,EAAO6C,SAChE3C,KAAKI,kBAAoBe,SAASyB,iBAAgBT,IAAAA,OAAKrC,EAAO6C,6BAC9D3C,KAAKwB,iBAAmBL,SAASe,cAAaC,IAAAA,OAAKrC,EAAO+C,WAC1D7C,KAAK4B,oBAAsBT,SAASe,cAAc,gCAClDlC,KAAKe,iBAAmB,GAExBf,KAAKuB,gBAGJ,0KAEDvB,KAAK8C,mBACT,IChBSC,EAASlD,GAAA,SAAAkD,IAAA9C,OAAA8C,EAAA,IAyBrB7C,EAzBY6C,EAAS,QAAA,WAAA,IAAAC,EAAAC,EAAAC,IAAAC,MACH,SAAAC,EAAOtD,GAAM,IAAAuD,EAAA,OAAAH,IAAAI,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,KAAA,EAAA,GACnB3D,EAAM,CAAAyD,EAAAE,KAAA,EAAA,KAAA,CAAA,OAAAF,EAAAG,OAAA,SAASjB,QAAQC,IAAI,mBAAiB,KAAA,EAAA,OAAAa,EAAAE,KAAA,EAE/BE,MACd7D,EAAO8D,IACP,CACIC,OAAQ/D,EAAO+D,OACfC,QAAS,CACL,eAAgBhE,EAAOiE,aAE3BC,KAAMlE,EAAOkE,OAEpB,KAAA,EATQ,KAAHX,EAAGE,EAAAU,MAWDC,GAAE,CAAAX,EAAAE,KAAA,GAAA,KAAA,CAAA,IACFJ,EAAIS,QAAQK,IAAI,gBAAgBnD,SAAS,oBAAmB,CAAAuC,EAAAE,KAAA,GAAA,KAAA,CAAA,OAAAF,EAAAG,OAAA,SACrDL,EAAIe,QAAM,KAAA,GAAA,OAAAb,EAAAG,OAAA,SAEVL,EAAIgB,QAAM,KAAA,GAAAd,EAAAE,KAAA,GAAA,MAAA,KAAA,GAGrBhB,QAAQC,IAAGP,UAAAA,OAAWkB,EAAIiB,SAAU,KAAA,GAAA,IAAA,MAAA,OAAAf,EAAAgB,OAAA,GAAAnB,EAE3C,KAAA,OAAA,SAAAoB,GAAA,OAAAxB,EAAAyB,MAAAzE,KAAA0E,UAAA,CAAA,CAxBiB,ICEtB,IAAaC,EAAa9E,GACtB,SAAA8E,EAAY7E,GAAQ,IAAAC,EAAAC,KAChB,GADgBC,OAAA0E,GAAAzE,EAAAF,KAAA,YAWT,SAAC4E,GAAwB,IAC5BC,EADUC,EAAOJ,UAAAK,OAAA,QAAAC,IAAAN,UAAA,GAAAA,UAAA,GAAG,IAExB,OAAO,WAAa,IAAA,IAAAO,EAAAP,UAAAK,OAATG,EAAIC,IAAAA,MAAAF,GAAAG,EAAA,EAAAA,EAAAH,EAAAG,IAAJF,EAAIE,GAAAV,UAAAU,GACXC,aAAaR,GACbA,EAAQS,YAAW,WACfV,EAAKH,MAAM1E,EAAMmF,EACpB,GAAEJ,OAEV5E,EAAAF,KAAA,2BAEyB,SAACG,GACvBJ,EAAKwF,SAAS5E,MAAQR,EAAEO,OAAOH,eAClCL,EAAAF,KAAA,sBAAA,WAAA,IAAAgD,EAAAC,EAAAC,IAAAC,MAEqB,SAAAC,EAAOjD,GAAC,OAAA+C,IAAAI,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,KAAA,EAAA,OAAAF,EAAAE,KAAA,EACpBV,EAAUY,MACZ,CACIC,IAAiD,6CACjDC,OAAQ,MACRE,YAAa,mBACbC,KAAM,OAGbwB,MAAK,SAAAC,GACF1F,EAAKK,kBAAkBC,SAAQ,SAACC,EAAMoF,GAClCpF,EAAKC,YAAckF,EAAKC,GAAOC,IACnC,GAGJ,IAAE,KAAA,EAEF5F,EAAKK,kBAAkBC,SAAQ,SAAAC,GAC1BA,EAAKC,YAAYC,cAAcC,WAAWN,EAAEO,OAAOC,MAAMH,eAEtDF,EAAKM,UAAUC,OAAO,UADtBP,EAAKM,UAAUE,IAAI,SAE3B,IAAG,KAAA,EAAA,IAAA,MAAA,OAAAyC,EAAAgB,OAAA,GAAAnB,EACN,KAAA,OAAA,SAAAoB,GAAA,OAAAxB,EAAAyB,MAAAzE,KAAA0E,UAAA,CAAA,CAxBA,IAwBAxE,4BAEmB,WAChBH,EAAKwF,SAASlD,iBAAiB,SAAS,SAAClC,GAAC,OAAKJ,EAAK6F,cAAczF,MAElEJ,EAAKK,kBAAkBC,SAAQ,SAAAC,GAC3BA,EAAK+B,iBAAiB,SAAS,SAAClC,GAAC,OAAKJ,EAAKwC,wBAAwBpC,KACvE,QArDKL,EAAQ,OAAO2C,QAAQC,IAAI,kBAEhC1C,KAAKI,kBAAoBe,SAASyB,iBAAgBT,IAAAA,OAAKrC,EAAO6C,8CAC9D3C,KAAKuF,SAAWpE,SAASe,cAAaC,IAAAA,OAAKrC,EAAO6C,SAElD3C,KAAK4F,cAAgB5F,KAAK6F,UAAS,SAAC1F,GAAC,OAAKJ,EAAKuC,oBAAoBnC,EAAE,GAAE,KAEvEH,KAAK8C,mBACT,ICKA3B,SAASe,cAAc,aAbvB,IAAIyC,EACA,CACIhC,OAAQ,eAIhB,IAAI/C,EAAa,CACT+C,OAAQ,wBACRE,SAAU"}