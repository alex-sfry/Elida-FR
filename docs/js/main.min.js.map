{"version":3,"file":"main.min.js","sources":["../../src/script/Helpers/FetchData.js","../../src/components/customSelect/CustomSelect.js","../../src/components/inputDropdown/InputDropdown.js","../../src/components/commoditiesForm/commoditiesForm.js"],"sourcesContent":["export class FetchData {\r\n    static fetch = async (config) => {\r\n        if (!config) return console.log('provide config');\r\n\r\n        const res = await fetch(\r\n            config.url,\r\n            {\r\n                method: config.method,\r\n                headers: {\r\n                    'Content-Type': config.contentType\r\n                },\r\n                body: config.body\r\n            }\r\n        );\r\n\r\n        if (res.ok) {\r\n            if (res.headers.get('Content-Type').includes('application/json')) {\r\n                return await res.json();\r\n            } else {\r\n                return await res.text();\r\n            }\r\n        } else {\r\n            console.log(`Error: ${res.status}`);\r\n        }\r\n    };\r\n}","import {FetchData} from \"../../script/Helpers/FetchData.js\";\r\n\r\nexport class CustomSelect {\r\n    constructor(config) {\r\n        if (!config) return console.log('provide config');\r\n\r\n        this.commoditiesSearchField = document.querySelector(`#${config.search}`);\r\n        this.dropdownListItems = document.querySelectorAll(`#${config.search} + ul > .dropdown-item`);\r\n        this.selectedItemsDiv = document.querySelector(`#${config.selected}`);\r\n        this.itemsToSubmitSelect = document.querySelector('.dropdown-container > select');\r\n        this.selectedItemsArr = [];\r\n\r\n        this.selectedItemBtn = `\r\n            <span class=\"border-start border-1 border-black\"></span>\r\n            <button class=\"btn-close px-2\" type=\"button\" aria-label=\"Close\"></button>\r\n        `;\r\n\r\n        this.fetchOptionItems();\r\n        this.setEventListeners();\r\n    }\r\n\r\n    fetchOptionItems = async () => {\r\n        const data = await FetchData.fetch(\r\n            {\r\n                url: `https://jsonplaceholder.typicode.com/users`,\r\n                method: 'GET',\r\n                contentType: 'application/json',\r\n                body: null\r\n            }\r\n        );\r\n\r\n        this.dropdownListItems.forEach((item, index) => {\r\n            item.textContent = data[index].name;\r\n        });\r\n    };\r\n\r\n    handleDropdownInput = (e) => {\r\n        this.dropdownListItems.forEach(item => {\r\n            !item.textContent.toLowerCase().startsWith(e.target.value.toLowerCase()) ?\r\n                item.classList.add('hidden') :\r\n                item.classList.remove('hidden');\r\n        });\r\n    };\r\n\r\n    handleDropdownItemClick = (e) => {\r\n        if (this.selectedItemsArr.includes(e.target.textContent)) return;\r\n\r\n        this.selectedItemsArr.push(e.target.textContent);\r\n\r\n        const selItm = document.createElement(\"div\");\r\n        selItm.className = 'ps-1';\r\n        selItm.innerHTML = e.target.textContent + this.selectedItemBtn;\r\n        this.selectedItemsDiv.appendChild(selItm);\r\n\r\n        const optionItem = document.createElement(\"option\");\r\n        optionItem.setAttribute('value', e.target.textContent);\r\n        this.itemsToSubmitSelect.appendChild(optionItem);\r\n    };\r\n\r\n    handleDeleteSelectedItem = (e) => {\r\n        if (e.target.classList.contains('btn-close')) {\r\n            this.selectedItemsArr.splice(this.selectedItemsArr.indexOf(e.target.parentElement.textContent.trim()), 1);\r\n            e.target.parentElement.remove();\r\n\r\n            const optionToDelete = this.itemsToSubmitSelect.querySelector(\r\n                `option[value=\"${e.target.parentElement.textContent.trim()}\"]`\r\n            );\r\n            optionToDelete.remove();\r\n        }\r\n    };\r\n\r\n    setEventListeners = () => {\r\n        this.commoditiesSearchField.addEventListener('input', (e) => this.handleDropdownInput(e));\r\n\r\n        this.dropdownListItems.forEach(item => {\r\n            item.addEventListener('click', (e) => this.handleDropdownItemClick(e));\r\n        });\r\n\r\n        this.selectedItemsDiv.addEventListener('click', (e) => this.handleDeleteSelectedItem(e));\r\n    };\r\n}\r\n","import {FetchData} from '../../script/Helpers/FetchData.js';\r\n\r\nexport class InputDropdown {\r\n    constructor(config) {\r\n        if (!config) return console.log('provide config');\r\n\r\n        this.dropdownListItems = document.querySelectorAll(`#${config.search} ~ .dropdown-menu > .dropdown-item`);\r\n        this.ddToggle = document.querySelector(`#${config.search}`);\r\n\r\n        this.processChange = this.debounce((e) => this.handleDropdownInput(e), 1000);\r\n\r\n        this.setEventListeners();\r\n    }\r\n\r\n    debounce = (func, timeout = 300) => {\r\n        let timer;\r\n        return (...args) => {\r\n            clearTimeout(timer);\r\n            timer = setTimeout(() => {\r\n                func.apply(this, args);\r\n            }, timeout);\r\n        };\r\n    };\r\n\r\n    handleDropdownItemClick = (e) => {\r\n        this.ddToggle.value = e.target.textContent;\r\n    };\r\n\r\n    handleDropdownInput = async (e) => {\r\n        const data = await FetchData.fetch(\r\n            {\r\n                url: `https://jsonplaceholder.typicode.com/users`,\r\n                method: 'GET',\r\n                contentType: 'application/json',\r\n                body: null\r\n            }\r\n        );\r\n\r\n        this.dropdownListItems.forEach((item, index) => {\r\n            item.textContent = data[index].name;\r\n        });\r\n\r\n        this.dropdownListItems.forEach(item => {\r\n            !item.textContent.toLowerCase().startsWith(e.target.value.toLowerCase()) ?\r\n                item.classList.add('hidden') :\r\n                item.classList.remove('hidden');\r\n        });\r\n    };\r\n\r\n    setEventListeners = () => {\r\n        this.ddToggle.addEventListener('input', (e) => this.processChange(e));\r\n\r\n        this.dropdownListItems.forEach(item => {\r\n            item.addEventListener('click', (e) => this.handleDropdownItemClick(e));\r\n        });\r\n    };\r\n}\r\n","import {CustomSelect} from '../customSelect/CustomSelect.js';\r\nimport {InputDropdown} from '../inputDropdown/InputDropdown.js';\r\n\r\nconst commoditiesForm = () => {\r\n    new InputDropdown(\r\n        {\r\n            search: 'sys-search'\r\n        }\r\n    );\r\n\r\n    new CustomSelect({\r\n            search: 'dd-search-commodities',\r\n            selected: 'selected-items-commodities'\r\n        }\r\n    );\r\n};\r\n\r\nif (document.querySelector('.c-form')) commoditiesForm();\r\n"],"names":["FetchData","_createClass","_classCallCheck","_defineProperty","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","config","res","wrap","_context","prev","next","abrupt","console","log","fetch","url","method","headers","contentType","body","sent","ok","get","includes","json","text","concat","status","stop","_x","apply","this","arguments","CustomSelect","_this","data","dropdownListItems","forEach","item","index","textContent","name","e","toLowerCase","startsWith","target","value","classList","remove","add","selectedItemsArr","push","selItm","document","createElement","className","innerHTML","selectedItemBtn","selectedItemsDiv","appendChild","optionItem","setAttribute","itemsToSubmitSelect","contains","splice","indexOf","parentElement","trim","querySelector","commoditiesSearchField","addEventListener","handleDropdownInput","handleDropdownItemClick","handleDeleteSelectedItem","search","querySelectorAll","selected","fetchOptionItems","setEventListeners","InputDropdown","func","timer","timeout","length","undefined","_len","args","Array","_key","clearTimeout","setTimeout","ddToggle","processChange","debounce"],"mappings":"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"}