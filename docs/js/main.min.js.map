{"version":3,"file":"main.min.js","sources":["../../src/script/Helpers/fetchData.js","../../src/components/commoditiesForm/commoditiesForm.js","../../src/script/Helpers/debounce.js"],"sourcesContent":["export const fetchData = async (url) => {\r\n    const res = await fetch(url);\r\n    return res.json();\r\n};","import {fetchData} from '../../script/Helpers/fetchData.js';\r\nimport {debounce} from '../../script/Helpers/debounce.js';\r\n\r\nconst commoditiesForm = () => {\r\n    //=================================================================================================\r\n    //inputDropDown logic\r\n    //=================================================================================================\r\n    const inputDropdown = () => {\r\n        const dropdownListItems = document.querySelectorAll('#sys-search ~ .dropdown-menu > .dropdown-item');\r\n        const ddToggle = document.querySelector('#sys-search');\r\n\r\n        const handleDropdownItemClick = () => {\r\n            // some logic\r\n            console.log('ok');\r\n        };\r\n\r\n        const handleSysDropdownclick = async () => {\r\n            await fetchData(`https://www.edsm.net/api-status-v1/elite-server`)\r\n                .then(data => {\r\n                    dropdownListItems.forEach(item => {\r\n                        item.textContent = data.message;\r\n                    });\r\n\r\n                    console.log(data);\r\n                });\r\n        };\r\n\r\n        const processChange = debounce(() => handleSysDropdownclick(), 500);\r\n\r\n        ddToggle.addEventListener('input', processChange);\r\n\r\n        dropdownListItems.forEach(item => {\r\n            item.addEventListener('click', handleDropdownItemClick);\r\n        });\r\n\r\n    };\r\n    inputDropdown();\r\n    //=================================================================================================\r\n\r\n    //=================================================================================================\r\n    // custom select logic\r\n    //=================================================================================================\r\n    const customSelect = () => {\r\n        const commoditiesSearchField = document.querySelector('#dd-search-commodities');\r\n        const dropdownListItems = document.querySelectorAll('#dd-search-commodities ~ .dropdown-item');\r\n        const selectedItemsDiv = document.querySelector('#selected-items-commodities');\r\n        const itemsToSubmit = document.querySelector('.dropdown-container > input');\r\n        const selectedItemsArr = [];\r\n\r\n        const selectedItemBtn = `\r\n            <span class=\"border-start border-1 border-black\"></span>\r\n            <button class=\"btn-close px-2\" type=\"button\" aria-label=\"Close\"></button>\r\n        `;\r\n\r\n        const handleDropdownInput = (e) => {\r\n            dropdownListItems.forEach(item => {\r\n                !item.textContent.toLowerCase().startsWith(e.target.value.toLowerCase()) ?\r\n                    item.classList.add('hidden') :\r\n                    item.classList.remove('hidden');\r\n            });\r\n        };\r\n\r\n        const handleDropdownItemClick = (e) => {\r\n            if (selectedItemsArr.includes(e.target.textContent)) return;\r\n\r\n            selectedItemsArr.push(e.target.textContent);\r\n\r\n            const selItm = document.createElement(\"div\");\r\n            selItm.className = 'ps-1';\r\n            selItm.innerHTML = e.target.textContent + selectedItemBtn;\r\n            selectedItemsDiv.appendChild(selItm);\r\n\r\n            itemsToSubmit.value += `${e.target.textContent},`;\r\n        };\r\n\r\n        const handleDeleteSelectedItem = (e) => {\r\n            if (e.target.classList.contains('btn-close')) {\r\n                selectedItemsArr.splice(selectedItemsArr.indexOf(e.target.parentElement.textContent.trim()), 1);\r\n                e.target.parentElement.remove();\r\n            }\r\n        };\r\n\r\n        commoditiesSearchField.addEventListener('input', handleDropdownInput);\r\n\r\n        dropdownListItems.forEach(item => {\r\n            item.addEventListener('click', handleDropdownItemClick);\r\n        });\r\n\r\n        selectedItemsDiv.addEventListener('click', handleDeleteSelectedItem);\r\n    };\r\n    customSelect();\r\n//===================================================================================================\r\n};\r\n\r\ncommoditiesForm();\r\n","export function debounce (func, timeout = 300) {\r\n    let timer;\r\n    return (...args) => {\r\n        clearTimeout(timer);\r\n        timer = setTimeout(() => {\r\n            func.apply(this, args);\r\n        }, timeout);\r\n    };\r\n};\r\n// function saveInput(){\r\n//     console.log('Saving data');\r\n// }\r\n// const processChange = debounce(() => saveInput());\r\n\r\n\r\n\r\n"],"names":["fetchData","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","url","res","wrap","_context","prev","next","fetch","sent","abrupt","json","stop","_x","apply","this","arguments","dropdownListItems","ddToggle","handleDropdownItemClick","handleSysDropdownclick","processChange","document","querySelectorAll","querySelector","console","log","then","data","forEach","item","textContent","message","func","timer","_this","timeout","length","undefined","_len","args","Array","_key","clearTimeout","setTimeout","debounce","addEventListener","commoditiesSearchField","selectedItemsDiv","itemsToSubmit","selectedItemsArr","e","includes","target","push","selItm","createElement","className","innerHTML","appendChild","value","concat","toLowerCase","startsWith","classList","remove","add","contains","splice","indexOf","parentElement","trim","customSelect","commoditiesForm"],"mappings":"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"}